<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Index</title>
</head>
<body>
    <div>
        <button onclick="create()">Start</button>
        <img id="img" src="img/PacMan1.png" style="display: none;">
    </div>
    <style>
        img {
            position: absolute;
            height: 100px;
            width: 100px;
            top: 100px;
            left: 50px;
        }
    </style>

    <script>
        function create(){
            isGameStarted=true;
            elem.style.display='block'
        }
        
        var imagesRight = ['img/PacMan1.png', 'img/PacMan2.png'];
        var imagesLeft = ['img/PacMan3.png', 'img/PacMan4.png'];
        
        let currentIndex = 0;
        var imageElement = document.getElementById('img');
        var currentImages = imagesRight;
        var isGameStarted=false;

        setInterval(imgMove, 200);

        function imgMove() {
            imageElement.src = currentImages[currentIndex];
            currentIndex = (currentIndex + 1) % currentImages.length;
        }

        var elem = document.getElementById('img');
        var pos = 0;
        var vel = 5;

        function move() {
            if (isGameStarted){
            pos = pos + vel;
            if (pos > window.innerWidth - elem.width || pos < 0) {
                vel = -vel;
                currentImages = vel > 0 ? imagesRight : imagesLeft;
            }
            elem.style.left = pos + 'px';
        }
    }

        setInterval(move, 20);
    </script>
</body>
</html>
